{"version":3,"file":"escapeXmlCharacters.js","names":["escapeXmlCharacters","string","attribute","replace","AMPERSAND_REGEXP","GREATER_THAN_REGEXP","LESS_THAN_REGEXP","SINGLE_QUOTE_REGEXP","DOUBLE_QUOTE_REGEXP"],"sources":["../../source/xml/escapeXmlCharacters.js"],"sourcesContent":["/**\r\n * Escapes text for XML: replaces \">\" with \"&gt;\", etc.\r\n * https://en.wikipedia.org/wiki/Character_encodings_in_HTML#HTML_character_references\r\n * @param  {string} string\r\n * @param  {boolean} [options.attribute]\r\n * @return {string}\r\n */\r\nexport default function escapeXmlCharacters(string, { attribute }) {\r\n\t// By default, \"&\", \"<\" and \">\" characters should be escaped:\r\n\t//\r\n\t// The ampersand character (&) and the left angle bracket (<) must not appear\r\n\t// in their literal form, except when used as markup delimiters, or within a comment,\r\n\t// a processing instruction, or a CDATA section. If they are needed elsewhere,\r\n\t// they must be escaped using either numeric character references or the strings\r\n\t// \" & \" and \" < \" respectively. The right angle bracket (>) may be represented\r\n\t// using the string \" > \", and must, for compatibility, be escaped using either\r\n\t// \" > \" or a character reference when it appears in the string \" ]]> \" in content,\r\n\t// when that string is not marking the end of a CDATA section.\r\n\t//\r\n\tstring = string\r\n\t\t.replace(AMPERSAND_REGEXP, '&amp;')\r\n\t\t.replace(GREATER_THAN_REGEXP, '&gt;')\r\n\t\t.replace(LESS_THAN_REGEXP, '&lt;')\r\n\r\n\t// Additionally, in attribute values, single and double quotes might be required\r\n\t// to be escaped depending on what character is used for delimiting those attribute values.\r\n\tif (attribute) {\r\n\t\tstring = string\r\n\t\t\t.replace(SINGLE_QUOTE_REGEXP, '&apos;')\r\n\t\t\t.replace(DOUBLE_QUOTE_REGEXP, '&quot;')\r\n\t}\r\n\r\n\treturn string\r\n}\r\n\r\nconst AMPERSAND_REGEXP = /&/g\r\nconst GREATER_THAN_REGEXP = />/g\r\nconst LESS_THAN_REGEXP = /</g\r\nconst SINGLE_QUOTE_REGEXP = /'/g\r\nconst DOUBLE_QUOTE_REGEXP = /\"/g"],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASA,mBAAT,CAA6BC,MAA7B,QAAoD;EAAA,IAAbC,SAAa,QAAbA,SAAa;EAClE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACAD,MAAM,GAAGA,MAAM,CACbE,OADO,CACCC,gBADD,EACmB,OADnB,EAEPD,OAFO,CAECE,mBAFD,EAEsB,MAFtB,EAGPF,OAHO,CAGCG,gBAHD,EAGmB,MAHnB,CAAT,CAZkE,CAiBlE;EACA;;EACA,IAAIJ,SAAJ,EAAe;IACdD,MAAM,GAAGA,MAAM,CACbE,OADO,CACCI,mBADD,EACsB,QADtB,EAEPJ,OAFO,CAECK,mBAFD,EAEsB,QAFtB,CAAT;EAGA;;EAED,OAAOP,MAAP;AACA;;AAED,IAAMG,gBAAgB,GAAG,IAAzB;AACA,IAAMC,mBAAmB,GAAG,IAA5B;AACA,IAAMC,gBAAgB,GAAG,IAAzB;AACA,IAAMC,mBAAmB,GAAG,IAA5B;AACA,IAAMC,mBAAmB,GAAG,IAA5B"}